"use strict";jQuery&&function(s){var i=s(document.body),t={},e={init:function(n){var e=s.extend({},t,n);console.log(e)},widget:function(n){var e=s(this),t=s.Azbn7.randstr(),r=s.Azbn7.config.prefix+"-widget-"+t;e.addClass(r),i.on(s.Azbn7.config.prefix+".widget.getData","."+r,{},function(n,e,t){n.preventDefault(),s.Azbn7.mdl("API").r(e,t)})}};s.fn.Azbn7=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?"function"==typeof n?n(this):void s.error("Метод "+n+" в плагине не найден!"):e.init.apply(this,arguments)},s.Azbn7=new function(n){var o=this;return o.name="Azbn7 jQuery Framework",o.body=i,o.__mdl={},o.__argv={},o.__param={},"object"!=typeof n&&(n=new Object),o.config=s.extend({},{is_dev:!0,prefix:"azbn7",path:{root:"",js:"",css:"",img:"",fonts:""}},n),o.randstr=function(){return Math.random().toString(36).split(".")[1]},o.now=function(){return(new Date).getTime()},o.now_sec=function(){return Math.floor(o.now()/1e3)},o.ls={set:function(n,e){localStorage.setItem(o.config.prefix+"."+n,e)},get:function(n){var e=localStorage.getItem(o.config.prefix+"."+n);return void 0!==e&&null!=e?e:null},remove:function(n){localStorage.removeItem(o.config.prefix+"."+n)},clear:function(){localStorage.clear()},obj2s:function(n,e){this.set(n,JSON.stringify(e))},s2obj:function(n){var e=this.get(n);return void 0!==e&&null!=e?JSON.parse(e):null}},o.ss={set:function(n,e){sessionStorage.setItem(o.config.prefix+"."+n,e)},get:function(n){var e=sessionStorage.getItem(o.config.prefix+"."+n);return void 0!==e&&null!=e?e:null},remove:function(n){sessionStorage.removeItem(o.config.prefix+"."+n)},clear:function(){sessionStorage.clear()},obj2s:function(n,e){this.set(n,JSON.stringify(e))},s2obj:function(n){var e=this.get(n);return void 0!==e&&null!=e?JSON.parse(e):null}},o.len=function(n){return this.is_def(n)&&!this.is_null(n)?n.length:0},o.echo=function(n,e){e=e||o.name,console.log(e+": "+n)},o.warn=function(n,e){e=e||o.name,console.warn(e+": "+n)},o.is_def=function(n){return null!=n&&void 0!==n},o.is_null=function(n){return null==n},o.is_func=function(n){return n&&"[object Function]"==={}.toString.call(n)},o.sleep=function(n){n=n||1;for(var e=this.now();this.now()<e+n;);},o.needReload=function(n){n&&window.location.reload()},o.parseArgv=function(n,e){for(var t=0;t<n.length;t++){var r=n[t].split(e||"=");o.__argv[r[0]]=r[1]}},o.getArgv=function(n){return o.__argv[n]},o.load=function(n,e){return o.__mdl[n]=e,o},o.unload=function(n){return o.__mdl[n]=null,delete o.__mdl[n],o.is_def(o.__mdl[n])},o.mdl=function(n){return o.__mdl[n]},o.load("fnc",{byTag:function(n){return document.getElementsByTagName(n)},byId:function(n){return document.getElementById(n)},include:function(n,e){var t;t=document.createElement("script"),e&&(t.onload=e),t.language="javascript",t.type="text/javascript",t.setAttribute("class","azbn7__mdl__fnc__include"),n.indexOf("http://")<0&&n.indexOf("https://")<0&&0!=n.indexOf("//")&&(n=o.config.path.root+n),t.src=n,document.documentElement.appendChild(t)},script2head:function(n,e){var t=document.getElementsByTagName("head")[0];if(t){var r=document.createElement("script");e&&(r.onload=e),r.language="javascript",r.type="text/javascript",r.setAttribute("class","azbn7__mdl__fnc__script2head"),r.src=n,t.appendChild(r)}},nl2br:function(n){return n.replace(/([^>])\n/g,"$1<br/>")},tpl:function(n,e){var t=n;for(var r in e)t=t.replace(r,e[r]);return t},stripTags:function(n){return n.replace(/<\/?[^>]+>/gi,"")},obj2param:function(n){var e="";for(var t in n)e=e+"&"+t+"="+n[t];return e}}),o.load("Screen",new function(){var s=this;return s.screen={w:0,h:0,type:"xs",orientation:"portrait"},s.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},dl:{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]}},s.isXS=function(){return s.screen.w<768},s.isSM=function(){return s.screen.w<992&&767<s.screen.w},s.isMD=function(){return s.screen.w<1200&&991<s.screen.w},s.isDL=function(){return s.screen.w<1441&&1199<s.screen.w},s.isLG=function(){return 1440<s.screen.w},s.isMax=function(n){return!(s.screen.w>n)},s.isMin=function(n){return!(s.screen.w<n)},s.screenIs=function(){var n="noname";return s.isXS()?n="xs":s.isSM()?n="sm":s.isMD()?n="md":s.isDL()?n="dl":s.isLG()&&(n="lg"),n},s.isPortrait=function(){return s.screen.h>s.screen.w},s.isLandscape=function(){return s.screen.w>s.screen.h},s.orientationIs=function(){var n="noname";return s.isPortrait()?n="portrait":s.isLandscape()&&(n="landscape"),n},s.is=function(n){return n==s.screenIs()||n==s.orientationIs()},s.onResize=function(n,e){if(n.type){var t=s.__resizefunctions[n.type];n.orientation?t[n.orientation].push(e):t.default.push(e)}},s.resizeCall=function(n){if(n.type){if(s.__resizefunctions[n.type].default)for(var e=0;e<s.__resizefunctions[n.type].default.length;e++)(0,s.__resizefunctions[n.type].default[e])(n);if(s.__resizefunctions[n.type][n.orientation])for(e=0;e<s.__resizefunctions[n.type][n.orientation].length;e++)(0,s.__resizefunctions[n.type][n.orientation][e])(n)}},s.setScreen=function(){var n=window,e=document,t=e.documentElement,r=e.getElementsByTagName("body")[0],i=n.innerWidth||t.clientWidth||r.clientWidth,o=n.innerHeight||t.clientHeight||r.clientHeight;return s.screen.w=i,s.screen.h=o,s.screen.type=s.screenIs(),s.screen.orientation=s.orientationIs(),s.resizeCall(s.screen),console.log(s.screen),s.screen},s}),s(window).on("resize",function(){o.mdl("Screen").setScreen()}),o.load("API",new function(){var i=this;return i.name="api",i.uid="azbn7__mdl__api",i.config={url:"/api/v1/",access_as:"user",key:"public",request_method:"POST",response_dataType:"json",method:"version"},i.setConfig=function(n){i.config=s.extend({},i.config,n)},i.on={beforeSend:function(n,e){},error:function(n,e,t){console.warn(e)},dataFilter:function(n,e){return n},success:function(n,e,t){console.log(n)},complete:function(n,e){}},i.r=function(n,e,t,r){t=t||i.config.request_method,r=r||i.config.response_dataType,n.key=i.config.key,n.access_as=i.config.access_as,n.method=n.method||i.config.method,e||(e=o.on.success),s.ajax({url:i.config.url,type:t,dataType:r,data:n,success:e,error:i.on.error})},i}),o.mdl("API").setConfig(JSON.parse(o.body.attr("data-azbn7__mdl__api")||"{}")),o}(JSON.parse(i.attr("data-azbn7")||"{}"))}(jQuery);