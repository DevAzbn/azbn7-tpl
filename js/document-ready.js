"use strict";!function(t){function e(){var e=this;e.screen={w:0,h:0,type:"xs",orientation:"portrait"},e.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]}},e.isXS=function(){return e.screen.w<768},e.isSM=function(){return e.screen.w<992&&e.screen.w>767},e.isMD=function(){return e.screen.w<1200&&e.screen.w>991},e.isLG=function(){return e.screen.w>1199},e.screenIs=function(){var t="noname";return e.isXS()?t="xs":e.isSM()?t="sm":e.isMD()?t="md":e.isLG()&&(t="lg"),t},e.isPortrait=function(){return e.screen.h>e.screen.w},e.isLandscape=function(){return e.screen.w>e.screen.h},e.orientationIs=function(){var t="noname";return e.isPortrait()?t="portrait":e.isLandscape()&&(t="landscape"),t},e.is=function(t){return t==e.screenIs()||t==e.orientationIs()},e.onResize=function(t,a){if(t.type){var n=e.__resizefunctions[t.type];t.orientation?n[t.orientation].push(a):n.default.push(a)}},e.resizeCall=function(t){if(t.type){if(e.__resizefunctions[t.type].default)for(var a=0;a<e.__resizefunctions[t.type].default.length;a++){var n=e.__resizefunctions[t.type].default[a];n(t)}if(e.__resizefunctions[t.type][t.orientation])for(var a=0;a<e.__resizefunctions[t.type][t.orientation].length;a++){var n=e.__resizefunctions[t.type][t.orientation][a];n(t)}}},e.setScreen=function(){return e.screen.w=t(window).outerWidth(!0),e.screen.h=t(window).outerHeight(!0),e.screen.type=e.screenIs(),e.screen.orientation=e.orientationIs(),e.resizeCall(e.screen),console.log(e.screen),e.screen}}t.noConflict(),window.onerror=function(t,e,a,n,r){console.log("Error FECSS: "+e+":"+a+":"+n+": "+JSON.stringify(t)+"\n"+JSON.stringify(r))};var a=new e;t(window).on("resize",function(){a.setScreen()}),function(t){var e=jQuery.fn.addClass,a=jQuery.fn.removeClass,n=jQuery.fn.toggleClass;t.fn.addClass=function(){var a=e.apply(this,arguments);return t(this).trigger("changeClass",["add"]),a},t.fn.removeClass=function(){var e=a.apply(this,arguments);return t(this).trigger("changeClass",["remove"]),e},t.fn.toggleClass=function(){var e=n.apply(this,arguments);return t(this).trigger("changeClass",["toggle"]),e}}(jQuery),t(function(){t(document.body).on("azbn7.init",null,{},function(e){t(document.body).attr("data-created_at",(new Date).getTime())}),t(document.body).on("changeClass",null,{},function(t,e){}),!function(){t.Azbn7&&(t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/api.mdl.js",function(){t.Azbn7.mdl("API").setConfig(JSON.parse(t.Azbn7.body.attr("data-azbn7__mdl__api")||"{}"))}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/codecache.mdl.js",function(){t.Azbn7.mdl("CodeCache").doUpdate(1e4)}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/domtree.mdl.js",function(){t.Azbn7.mdl("DOMTree").startSpy(t.Azbn7.body,{attributes:!0,childList:!0,characterData:!0},function(t){console.log(t)})}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/cart.mdl.js",function(){t.Azbn7.body.find(".azbn7-cart").trigger("azbn7.mdl.cart.calculation")}))}(),!function(){t.Azbn7.body.on("azbn7.mdl.cart.calculation",".azbn7-cart",{},function(e,a,n){e.preventDefault();var r=t(this);t.Azbn7.mdl("Cart").calculation();var i="";a&&(i=i+'[data-cart-id="'+a+'"]'),n&&(i=i+'[data-cart-variant="'+n+'"]'),r.find(".items .item"+i).each(function(e){var a=t(this),n=a.attr("data-cart-id"),r=a.attr("data-cart-variant");if(t.Azbn7.mdl("Cart").data.cart[n]&&t.Azbn7.mdl("Cart").data.cart[n][r]){var i=t.Azbn7.mdl("Cart").data.cart[n][r];a.find(".cart-qty.item-qty").html(parseFloat(i.qty))}else a.find(".cart-qty.item-qty").html(0)}),r.find(".cart-calculation-to_pay").html(t.Azbn7.mdl("Cart").data.calculation.to_pay)}),t.Azbn7.body.on("click.azbn7.mdl.cart.add",".cart-btn.item-add",{},function(e){e.preventDefault();var a=t(this),n=a.closest(".item"),r=n.attr("data-cart-id"),i=n.attr("data-cart-variant");t.Azbn7.mdl("Cart").add(r,i,a.attr("data-cart-qty"),n.attr("data-cart-price"),n.attr("data-cart-discount")),n.closest(".azbn7-cart").trigger("azbn7.mdl.cart.calculation",[r,i])}),t.Azbn7.body.on("click.azbn7.mdl.cart.remove",".cart-btn.item-remove",{},function(e){e.preventDefault();var a=t(this),n=a.closest(".item"),r=n.attr("data-cart-id"),i=n.attr("data-cart-variant");t.Azbn7.mdl("Cart").remove(r,i,a.attr("data-cart-qty"),n.attr("data-cart-price"),n.attr("data-cart-discount")),n.closest(".azbn7-cart").trigger("azbn7.mdl.cart.calculation",[r,i])})}(),!function(){var e="noname-browser",a=navigator.userAgent.toLowerCase();a.indexOf("msie")!=-1&&(e="msie"),a.indexOf("trident")!=-1&&(e="msie"),a.indexOf("konqueror")!=-1&&(e="konqueror"),a.indexOf("firefox")!=-1&&(e="firefox"),a.indexOf("safari")!=-1&&(e="safari"),a.indexOf("chrome")!=-1&&(e="chrome"),a.indexOf("chromium")!=-1&&(e="chromium"),a.indexOf("opera")!=-1&&(e="opera"),a.indexOf("yabrowser")!=-1&&(e="yabrowser"),t("html").eq(0).addClass(e)}(),t(document.body).on("click.fecss.fecss-collapse.collapser",".fecss-collapse .collapser",{},function(e){e.preventDefault(),console.log("body trigger:click.fecss.fecss-collapse.collapser");var a=t(this),n=a.closest(".fecss-collapse");n.toggleClass("active")}),t(document.body).on("submit.site","form",{},function(e){var a=t(this),n=a.attr("data-input-status")||"";"ok"==n||"1"==n||e.preventDefault()}),t(document.body).on("site.form.required.check","form",{},function(e){e.preventDefault();var a=t(this),n=0;a.find(".input-block[data-required]").each(function(e){var a=t(this),r=a.attr("data-input-status")||"";"ok"!=r&&"1"!=r||(n+=1)}),n==a.find(".input-block[data-required]").length?(a.find(".submit-block").attr("data-input-status","ok"),a.attr("data-input-status","ok")):(a.find(".submit-block").attr("data-input-status",""),a.attr("data-input-status",""))}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="text"] input:not([type="search"]), .input-block[data-required="text"] textarea, .input-block[data-required="password"] input',{},function(e){e.preventDefault();var a=t(this),n=t(this).val(),r=a.closest(".input-block").attr("data-required")||"";""==n||"text"!=r&&"password"!=r?a.closest(".input-block").attr("data-input-status",""):a.closest(".input-block").attr("data-input-status","ok"),a.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="email"] input',{},function(e){e.preventDefault();var a=t(this),n=t(this).val(),r=a.closest(".input-block").attr("data-required")||"",i=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;""!=n&&"email"==r&&i.test(n)?a.closest(".input-block").attr("data-input-status","ok"):a.closest(".input-block").attr("data-input-status",""),a.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="check-pass"] input',{},function(e){e.preventDefault();var a=t(this),n=t(this).val(),r=t('.input-block input[name="pass"]').val();""!=n&&""!=r&&"check-pass"==a.closest(".input-block").attr("data-required")&&r==n?a.closest(".input-block").attr("data-input-status","ok"):a.closest(".input-block").attr("data-input-status",""),a.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block input[type="search"]',{},function(e){e.preventDefault();var a=t(this),n=t(this).val();n.length>2&&"search"==a.closest(".input-block").attr("data-required")?(a.closest(".input-block").attr("data-input-status","ok"),a.closest(".input-block").next(".submit-block").attr("data-input-status","ok")):(a.closest(".input-block").attr("data-input-status",""),a.closest(".input-block").next(".submit-block").attr("data-input-status","")),a.closest("form").trigger("site.form.required.check")}),t(document.body).on("change.site blur.site",".input-block select",{},function(e){e.preventDefault();var a=t(this),n=t(this).find("option:selected").eq(0).attr("value")||"";""!=n&&"select"==a.closest(".input-block").attr("data-required")?a.closest(".input-block").attr("data-input-status","ok"):a.closest(".input-block").attr("data-input-status",""),a.closest("form").trigger("site.form.required.check")}),t(function(){t("form").trigger("site.form.required.check"),t(".input-block input, .input-block textarea, .input-block select").trigger("blur.site")}),t(window).on("resize",function(t){}).trigger("resize"),t(window).on("scroll",function(t){}).trigger("scroll"),window.onbeforeunload=function(e){t("body").trigger("azbn7.window.unload",[e])},t(document.body).trigger("azbn7.init")})}(jQuery);